kernel vec4 splitOutTransition(sampler src, sampler trgt, vec4 extent, vec2 center, float t)
{
    float x, l, r, d1;
    
    x = destCoord().x;
    
    l = (1.0 - t) * center.x + t * extent.x;
    r = (1.0 - t) * center.x + t * (extent.x + extent.z);
    
    d1 = step(l, x) * step(x, r);
    
    return d1 > 0.5 ? sample(trgt, samplerCoord(trgt)) : sample(src, samplerCoord(src));
}
