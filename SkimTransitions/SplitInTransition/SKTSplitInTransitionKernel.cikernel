kernel vec4 splitInTransition(sampler src, sampler trgt, vec4 extent, vec2 center, float t)
{
    float x, l, r, d1;
    
    x = destCoord().x;
    
    l = t * center.x + (1.0 - t) * extent.x;
    r = t * center.x + (1.0 - t) * (extent.x + extent.z);
    
    d1 = step(l, x) * step(x, r);
    
    return d1 < 0.5 ? sample(trgt, samplerCoord(trgt)) : sample(src, samplerCoord(src));
}
